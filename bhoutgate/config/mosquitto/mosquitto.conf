# Basic Mosquitto configuration with TLS

# Listen on all interfaces with TLS
bind_address 0.0.0.0
listener 8883
protocol mqtt

# TLS configuration
cafile /Users/arroz/BHOUTGate2/bhoutgate/config/certs/ca.crt
certfile /Users/arroz/BHOUTGate2/bhoutgate/config/certs/server.crt
keyfile /Users/arroz/BHOUTGate2/bhoutgate/config/certs/server.key

# Require client certificates
require_certificate true
use_identity_as_username true

# Disable anonymous connections for security
allow_anonymous false

# Log to stdout
log_dest stdout
log_type all

# Set the location of the persistence database
persistence true
persistence_location /Users/arroz/BHOUTGate2/bhoutgate/config/mosquitto/data

# Set the location of the log file
log_dest file /Users/arroz/BHOUTGate2/bhoutgate/config/mosquitto/logs/mosquitto.log 